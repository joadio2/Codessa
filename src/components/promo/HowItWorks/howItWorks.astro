---

import { getLangFromUrl, useTranslations } from "../../../i18n/utilsPromo"
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

---
<section id="process">
    <h2>{t("process.title")}</h2>
    <p class="section-subtitle">
        {t("process.subtitle")}
    </p>

    <div class="journey-container">
        <div class="journey-step">
            <div class="planet-wrapper">
                <div class="planet planet-1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                </div>
            </div>
            <div class="step-content">
                <h3>{t("process.step1.title")}</h3>
                <p>{t("process.step1.description")}</p>
            </div>
        </div>

        <div class="journey-step">
            <div class="planet-wrapper">
                <div class="planet planet-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>
                </div>
            </div>
            <div class="step-content">
                <h3>{t("process.step2.title")}</h3>
                <p>{t("process.step2.description")}</p>
            </div>
        </div>

        <div class="journey-step">
            <div class="planet-wrapper">
                <div class="planet planet-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>
                </div>
            </div>
            <div class="step-content">
                <h3>{t("process.step3.title")}</h3>
                <p>{t("process.step3.description")}</p>
            </div>
        </div>

        <div class="journey-step">
            <div class="planet-wrapper">
                <div class="planet planet-4">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12l8-8 8 8-8 8-8-8z"></path><path d="M12 22V4"></path></svg>
                </div>
            </div>
            <div class="step-content">
                <h3>{t("process.step4.title")}</h3>
                <p>{t("process.step4.description")}</p>
            </div>
        </div>
    </div>
</section>

<style >
   
    #process {
        padding:  0 0 2rem;
        text-align: center;
        background: var(--color-primary);
    }
    h2 {
        font-size: 2.8rem;
        margin-bottom: 1rem;
        color: var(--color-accent)
    }
    .section-subtitle {
        max-width: 600px;
        margin: 0 auto 5rem;
        font-size: 1.1rem;
        color: var(--color-light-text);
    }

    .journey-container {
        display: flex;
        justify-content: space-around;
        align-items: flex-start;
        position: relative;
        padding: 0 2rem;
    }
    /* La línea de trayectoria que conecta los planetas */
    .journey-container::before {
        content: '';
        position: absolute;
        top: 75px; /* Alineado con el centro de los planetas */
        left: 10%;
        right: 10%;
        height: 2px;
        background-image: linear-gradient(to right, var(--color-border) 50%, transparent 50%);
        background-size: 20px 2px;
        z-index: 0;
    }

    .journey-step {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 22%;
        position: relative;
    }

    .planet-wrapper {
        position: relative;
        width: 150px;
        height: 150px;
        margin-bottom: 2rem;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    /* El anillo orbital */
    .planet-wrapper::before {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        border: 2px dashed rgba(0, 198, 255, 0.2);
        border-radius: 50%;
        animation: rotate 40s linear infinite;
        transition: border-color 0.3s ease;
    }
    .journey-step:hover .planet-wrapper::before {
        border-color: rgba(0, 198, 255, 0.6);
        animation-duration: 10s;
    }

    .planet {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: rgba(255, 255, 255, 0.8);
        transition: all 0.4s ease;
        box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
    }
    .journey-step:hover .planet {
        transform: scale(1.1);
        box-shadow: 0 0 30px var(--color-accent), inset 0 0 20px rgba(0,0,0,0.5);
        color: white;
    }

    /* Estilos únicos para cada planeta */
    .planet-1 { background: radial-gradient(circle at 20% 20%, #5b7a9d, #2a3b4f); }
    .planet-2 { background: radial-gradient(circle at 70% 70%, #9d5b7a, #4f2a3b); }
    .planet-3 { background: radial-gradient(circle at 80% 20%, #9d915b, #4f482a); }
    .planet-4 { background: radial-gradient(circle at 30% 70%, #5b9d7a, #2a4f3b); }

    .step-content h3 {
        font-size: 1.5rem;
        color: #f1f5f9;
        margin-bottom: 0.5rem;
    }
    .step-content p {
        font-size: 0.95rem;
        color: var(--color-light-text);
        line-height: 1.6;
    }
     h2,svg,.planet-wrapper,.planet,.journey-container {
        animation: fadeIn 0.5s ease;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(50px); }
        to { opacity: 1; transform: translateY(0); }
    }
    @supports (animation-timeline: view()) {
        h2,svg,.planet-wrapper, .planet,.journey-container {
            animation-timeline: view();
            animation-range: entry 0% cover 15%;
        }
    }
    @media (prefers-reduced-motion: reduce) {
    h2,svg, .planet-wrapper,.planet,.journey-container{
        animation: none;
    }
    }
     @keyframes rotate {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    /* Responsive */
    @media (max-width: 1024px) {
        #proceso {
            padding: 0 1rem 2rem;
            text-align: center;
        }
        .section-subtitle{
            padding-inline: 2rem;
        }
        .journey-container {
            flex-wrap: wrap;
            justify-content: center;
            gap: 4rem 2rem;
            
        }
        .journey-step {
            width: 45%;
        }
        .journey-container::before {
            display: none; /* La línea horizontal no tiene sentido en dos filas */
        }
    }
    @media (max-width: 640px) {
        .journey-step {
            width: 80%;
        }
    }
</style>